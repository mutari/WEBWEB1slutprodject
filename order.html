<!DOCTYPE html>
<html>
  <head>
    <title>catering</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="styleMain.css">
    <script src="javascript/BuffeList.js"></script>
    <script src="javascript/order.js"></script>
    <!--när sidan öpnas kollar jag vilket objeckt man ska beställa-->
  </head>
  <body>
    <!-- header element inehåller en meny samt logo bild-->
    <header> 
      <div id="logo"><a href="index.html"><img></a></div>
      <div id="stars">
        <ul>
          <li><img src="images/star.png"></li>
          <li><img src="images/star.png"></li>
          <li><img src="images/star.png"></li>
          <li><img src="images/star.png"></li>
          <li><img src="images/starEmpty.png"></li>
        </ul>
      </div>
      <ul>
        <li><a href="OmOss.html">Om oss</a></li>
        <li><a href="Event.html">Event</a></li>
        <li><a href="Mat.html">Mat</a></li>
      </ul>
    </header>
    <!-- image är ett bild spel-->
    <div id="image"><img src="images/bannerImage1.jpg" height="100%" width="100%"></div>
    <!-- main inehåller allt sidans inehål-->
    <main id="mainOrder">
      <script>
        var ActiveOrder = getActiveOrder();
        
        var main = document.getElementById("mainOrder");
        
        //skapar documentet efter hur det specifika orden ser ut
        //jag hade gärna använt en tempel engin men det hade krävt att jag skapade en server samtidigt och då inte kursen inehåller detta la jag inte ner tid på det
        var upperDiv = document.createElement('div');
        upperDiv.classList.add(ActiveOrder.color);
        upperDiv.id = "upperDiv";
        
        var title = document.createElement('h1');
        title.innerHTML = ActiveOrder.name;
        
        var p = document.createElement('p');
        p.innerHTML = ActiveOrder.about;
        
        var pHave = document.createElement('p');
        pHave.innerHTML = ActiveOrder.have;
        
        var pPrise = document.createElement('p');
        pPrise.innerHTML = ActiveOrder.prisePers + '/per person'
        
        var pMax = document.createElement('p');
        pMax.innerHTML = 'max antal personer: ' + ActiveOrder.maxPers 
        
        upperDiv.appendChild(title);
        upperDiv.appendChild(p);
        upperDiv.appendChild(pHave);
        upperDiv.appendChild(pPrise);
        upperDiv.appendChild(pMax);
        
        //skapar en form för att ta emot bestälningen av användaren
        var form = document.createElement('form');
        
        var labelHMP = document.createElement('label'); //Hur många portioner
        labelHMP.setAttribute("for", "antal");
        labelHMP.innerHTML = "Antal portioner:";
        
        var inputAP = document.createElement('input'); //antal portioner
        inputAP.setAttribute("type", "number");
        inputAP.setAttribute("name", "antal");
        inputAP.setAttribute("min", "1");
        inputAP.setAttribute("max", ActiveOrder.maxPers.toString());
        inputAP.setAttribute("value", 1);
        inputAP.setAttribute("onchange", "priseUppdate();");
        
        var pTotalPrise = document.createElement('p');
        pTotalPrise.innerHTML = "/max " + ActiveOrder.maxPers + "<br>" + inputAP.value * ActiveOrder.prisePers + "kr";
        
        form.appendChild(labelHMP);
        form.appendChild(inputAP);
        form.appendChild(pTotalPrise);
        
        main.appendChild(upperDiv);
        main.appendChild(form);
        
        function priseUppdate() {
            var value = inputAP.value;
        
            if(value > ActiveOrder.maxPers) {
                inputAP.value = ActiveOrder.maxPars.toString();
            }
            pTotalPrise.innerHTML = "/max " + ActiveOrder.maxPers + "<br>" + inputAP.value * ActiveOrder.prisePers + "kr";
        }
      </script>
    </main>
    <!-- footer inehåler kontakt uppgifter och ett mail formolär-->
    <footer>
      <div id="kontakt">
        <div>
          <h1>Kontakt uppgifter</h1>
          <p>address</p>
          <p>gatunumer</p>
          <p>något mera</p>
          <h3>tel:</h3>
          <p>070-000 11 33</p>
          <h5>teltider</h5>
          <p class="tider">mån-lör 8-18</p>
          <p class="tider">sön stängt</p>
        </div>
      </div>
      <div id="message">
        <h1>Skicka ett medelande</h1>
        <form method="post" action="php/formmail.php">
          <label for="email">från</label><br>
          <input type="text" name="email" placeholder="test@yahoo.com"><br>
          <label for="subject">ämne</label><br>
          <input type="text" name="subject"><br>
          <textarea name="message" cols="50" rows="7"></textarea><br>
          <button type="submit">skicka</button>
        </form>
      </div>
      <p id="copy">©philip johansson</p>
    </footer>
  </body>
</html>